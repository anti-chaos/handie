/*!
 * MUU v1.6.8
 * Unified UI framework for admin websites of MaiHaoChe.com
 * http://doc.haimaiche.net/muu/
 *
 * Copyright 2017, Ourai Lin <ourairyu@gmail.com> (http://ourai.ws/)
 * Released under the MIT license.
 *
 * @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 * @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 * @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 * @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 * @@@@@@@@@@8888888888888888888888888888888888@@@@@@@@@@
 * @@@@@@@@@0LffffffffffffffffffffffffffffffffL0@@@@@@@@@
 * @@@@@@@@8LffffffffffffffffffffffffffffffffffL8@@@@@@@@
 * @@@@@@@8LfffffGGGGGGGGGGGGGGGGGGGGGGGGGGfffffL8@@@@@@@
 * @@@@@@@Cfffff0@@@@@@@@@@@@@@@@@@@@@@@@@@0fffffC@@@@@@@
 * @@@@@@GLffffG@@@@@@@@@@.880088.@@@@@@@@@@GffffLG@@@@@@
 * @@@@@0LffffC@@@@@@@@80CLLffffLLC08@@@@@@@@CffffL0@@@@@
 * @@@@@Cfffff8@@@@@@@0LffffffffffffL0@@@@@@@8fffffC@@@@@
 * @@@@8LffffG@@@@@@@GffffffLCCLffffffG@@@@@@@GffffL8@@@@
 * @@@@8fffff0@@@@@@0LffffC8@@@@8CffffL0@@@@@@0fffff8@@@@
 * @@@@8ffffL8@@@@@@Cfffff0@@@@@@0fffffC@@@@@@8Lffff8@@@@
 * @@@@0ffffL8@@@@@@GLffffG8@@@@8GffffLG@@@@@@8Lffff0@@@@
 * @@@@0ffffL8@@@@@@@GfffffLC8@@8LffffG@@@@@@@8Lffff0@@@@
 * @@@@0ffffL8@@@@@@@8GLfttttLC8@@0CLG@@@@@@@@8Ltttt0@@@@
 * @@@@0ttttL8@@@@@@@@@8GLfttttfC8@@8@@@@@@@@@8Ltttt0@@@@
 * @@@@0ttttL8@@@@@@@@@@@8GLftttffC0@@@@@@@@@@8Ltttt0@@@@
 * @@@@0ttttL8@@@@@80GCLG8@80LtttttffCG08@@@@@8Ltttt0@@@@
 * @@@@0ttttfffffffftttttLG@@:GLftttttttfffffffftttt0@@@@
 * @@@@0tttttttttttttttffLG8@@@@8GLffttttttttttttttt0@@@@
 * @@@@8LLLLLLLLLLCCGG00@@@@@@@@@@@@00GGCCLLLLLLLLLL8@@@@
 * @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 * @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 * @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 * @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(t){return Object.prototype.toString.call(t)}function e(t,e){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){return"[object Number]"===t(e)&&!isNaN(e)}function a(e){return"[object String]"===t(e)}function i(e){return"[object Function]"===t(e)}function o(e){return"[object Array]"===t(e)}function r(e){return"[object Object]"===t(e)}function s(t){return t&&r(t)&&"setInterval"in t}function l(t){if(!t||!r(t)||t.nodeType||s(t))return!1;try{if(t.constructor&&!e("constructor",t)&&!e("isPrototypeOf",t.constructor.prototype))return!1}catch(t){return!1}var n=void 0;for(n in t);return void 0===n||e(n,t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(t){return void 0===t?"undefined":c(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":c(t)};function u(t){return a(t)||o(t)||function(t){var e=!1;if(r(t)&&!s(t)){var a=t.length;(1===t.nodeType&&a||!o(t)&&!i(t)&&(0===a||n(a)&&a>0&&a-1 in t))&&(e=!0)}return e}(t)}function f(t,e){if(u(t))for(var n=0,o=void 0;n<t.length&&(o=a(t)?t.charAt(n):t[n],!1!==e.apply(o,[o,n++,t])););else if(r(t)||i(t)){var s=void 0,l=void 0;for(s in t)if(l=t[s],!1===e.apply(l,[l,s,t]))break}}function p(){var e=arguments,n=e.length,a=e[0]||{},r=1,s=!1,c=void 0,u=void 0,f=void 0,h=void 0,m=void 0,b=void 0;for("[object Boolean]"===t(a)&&(s=a,a=e[1]||{},r=2),"object"===(void 0===a?"undefined":d(a))||i(a)||(a={}),1===n&&(a=this,r--);r<n;){if(null!=(m=e[r]))for(h in m)u=m[h],b=a[h],u!==a&&(s&&u&&(l(u)||(f=o(u)))?(f?(f=!1,c=b&&o(b)?b:[]):c=b&&l(b)?b:{},a[h]=p(s,c,u)):void 0!==u&&(a[h]=u));r++}return a}function h(t){return u(t)?[].slice.call(t,0):[]}function m(t,e){if(i(e.includes))return e.includes(t);if(i(e.indexOf))return e.indexOf(t)>-1;try{return jQuery.inArray(t,h(e))>-1}catch(t){return!1}}function b(t,e){var n=void 0;if(u(t))if(i([].map))n=[].map.call(t,e);else try{n=jQuery.map(h(t),e)}catch(t){n=[]}return n||[]}function v(t,e){var n=[];return o(t)&&(i(t.filter)?n=t.filter(e):i(e)&&f(t,function(a,i){e.apply(i,[i,a,[].concat(t)])&&n.push(i)})),n||[]}function g(t){if(i(Object.keys))return Object.keys(t);var e=[];return l(t)&&f(t,function(t){return e.push(t)}),e}function y(t){return!(void 0!==t&&e("success",t)&&e("message",t))}function w(t){return""+t.charAt(0).toUpperCase()+t.slice(1)}function x(t){return o(t)?[].concat(t):l(t)?p(!0,{},t):t}function j(t){return t+"-"+(new Date).getTime().toString(32).toUpperCase()}function C(t,e){t.tooltip(p(!0,{placement:"auto bottom",trigger:"hover",container:"body"},e))}function k(t,e,n){var r=void 0;return null==e||""===e?r=v($("option",t).toArray(),function(t){return!0===t.defaultSelected}):(a(e)&&e.split(",")&&(e=e.split(",")),r=o(e)?b(e,function(e){return $("option[value='"+e+"']",t)}):$("option[value='"+e+"']",t)),$(":selected",t).prop("selected",!1),f($(r).toArray(),function(t){$(t).prop("selected",!0)}),i(n)&&n.call(t.get(0)),t.trigger("change"),t}var _=Object.freeze({change:k});function T(t,n){var r,s={};if(arrayEach(o(t)?t:a(r=t)&&r.split("&").length>0&&r.split("&")[0].split("=").length>0?b(t.split("&"),function(t){var e=t.split("=");return{name:e[0],value:decodeURIComponent(e[1])}}):$(t).serializeArray(),function(t){s[t.name]=e(t.name,s)?[].concat(s[t.name],t.value):t.value}),i(n)){var c=n(s);l(c)&&(s=c)}return s}function O(){var t=$(this);$(".form-group",t).removeClass("has-success has-error"),$(".help-block:not(.is-dynamic)",t).removeClass("u-hidden"),$(".help-block.is-dynamic, .Error, .ErrorGroup",t).addClass("u-hidden")}function S(t){H5F.init(t,{immediate:!1}),$("[name]",t).on({"H5F:valid":function(t,e){var n=$(t.target).closest("div"),a=n.closest(".form-group"),i=void 0;a.length>0?(i='.help-block[data-name="'+e.name+'"]',$(".help-block:not(.is-dynamic)",a).addClass("u-hidden"),a.removeClass("has-error").addClass("has-success")):(i='.Error[data-name="'+e.name+'"]',a=$(".ErrorGroup",n)),$(i,n).addClass("u-hidden"),a.is(".ErrorGroup")&&0===$(".Error:not(.u-hidden)",a).length&&a.addClass("u-hidden")},"H5F:invalid":function(t,e){var n=$(t.target).closest("div"),a=n.closest(".form-group"),i=void 0,o=void 0,r=void 0;a.length>0?(o='.help-block[data-name="'+e.name+'"]',r='<p class="help-block is-dynamic" data-name="'+e.name+'" />',i=n,$(".help-block:not(.is-dynamic)",i).addClass("u-hidden"),a.removeClass("has-success").addClass("has-error")):(o='.Error[data-name="'+e.name+'"]',r='<p class="Error" data-name="'+e.name+'" />',(i=$(".ErrorGroup",n)).length>0?i.removeClass("u-hidden"):(n.append('<div class="ErrorGroup" />'),i=$(".ErrorGroup",n)));var s=$(o,i);0===s.length&&(i.append(r),s=$(o,i)),s.text(e.message).removeClass("u-hidden")}}),t.on("reset",O)}function z(t,e){l(e)&&$("[name]",t).each(function(){var n=$(this),a=this.tagName.toLowerCase(),i=n.attr("name"),o=e[i];m(a,["input","textarea"])?m(n.attr("type"),["radio","checkbox"])?$('[name="'+i+'"][value="'+o+'"]',t).prop("checked",!0):n.val(o):"select"===a&&k(n,o)})}var I=Object.freeze({h5f:S,fill:z,reset:function(t,e){$("select",t).each(function(){k($(this))}),$("[type='hidden']",t).val(""),i(e)&&e.call(t.get(0))},serialize:function(t,e){var n=t,a=void 0;return l(t)&&(t=n.$form,e=n.filter,a=n.serializer),i(e)||(e=H.form.filter),i(a)||(a=H.form.serializer),a(v((t=$(t)).serializeArray(),function(n,a,i){return e(n,$('[name="'+n.name+'"]',t),i)}))},jsonify:T}),A={};function E(t){return a(t)&&new RegExp("^[0-9a-z_]+(.[0-9a-z_]+)*$","i").test(t)?t.split("."):[]}function F(t,e){var n=void 0,o=void 0;if(a(e)?n=e:l(e)&&(n=e.type,o=e.formatter),"bootstrap"===n){var r=$(".js-alertSystemMessage");0===r.length&&(r=$('\n          <div class="modal fade js-alertSystemMessage">\n            <div class="modal-dialog">\n              <div class="modal-content">\n                <div class="modal-header">\n                  <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>\n                  <h4 class="modal-title">系统提示</h4>\n                </div>\n                <div class="modal-body"></div>\n                <div class="modal-footer">\n                  <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        '),$("body").append(r)),i(o)||(o=function(t){return'<p class="u-textBreak">'+t+"</p>"}),$(".modal-body",r).html(o.call(null,t)||t),r.modal("show")}else window.alert(t)}var D=".js-showDataTable";function N(){return $(D)}function L(t){return x(t.create||t.add||t)}function P(t){return!0===t.__operationDefinedByColumns||t.operation&&!0===t.operation.sticky}function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(),e=arguments[1];"boolean"===$.type(t)&&(e=t,t=N());var n=void 0;!0===e&&(n={pageNumber:1}),t.bootstrapTable("refresh",n)}var H={ajax:{RESTful:!0,waitingText:"数据保存中，请耐心等待...",serverErrorText:"服务器开小差啦～",errorHandler:function(t,n,a,i){var o=n.status;if(o>=500)F(H.ajax.serverErrorText);else if(o>=400){var r=n.responseJSON;F(l(r)&&e("message",r)?r.message:n.responseText)}},responseHandler:function(t,e,n){var o=i(e),r={type:n.alertType,formatter:n.alertFormatter};y(t)?a(t)&&""!==t?F(t,r):o&&e.call(null,t):t.success?o&&e.call(null,t.data):F(t.message,r)}},table:{selector:D,showRowNumber:!1,classes:"table table-condensed table-hover",slim:!1,rowActions:[],keys:{sort:"sortBy",order:"orderBy"},toolbarActions:{basic:{fixedWidth:!1,isCoexisted:!0},create:{text:"新增",tooltip:"添加新的条目",icon:"plus"},batch:{text:"批量操作",tooltip:"对选中条目进行批量操作",action:"batchTable"},search:{label:!1,width:"auto",filter:{selector:".js-filterTableData",mode:"dropdown",button:{text:"筛选",tooltip:"查看更多筛选条件",action:"showMoreFilters",icon:"filter",fixedWidth:!0,isCoexisted:!1},dialog:{title:"筛选数据",size:"lg"}}}},operationColumn:{sticky:!1,field:"operation",text:"操作",events:{"click .js-edit":function(t,e,n,a){var i,o,r,s=$(this),l=(i=s.closest("table"),L((o=i.data("bootstrap.table").options).__toolbar||{}),0===(r=$(o.__$dialog)).length&&i.is(N())&&(r=$(H.dialog.selector)),r);s.is("a[href]")||1!==l.length?t.stopPropagation():(z($("form",l),n),l.modal("show"),t.stopPropagation())},"click .js-delete":function(t,n,o,r){var s=$(this),l=s.closest("table"),c=function(t){if(u(t))return t[t.length-1]}(l.data("bootstrap.table").columns).__muuAjaxOpts||{};if(e("delete",c)&&(c=c.delete),e("url",c)){var d=function(){U(l)},f=!0===H.ajax.RESTful?Y:q,p=[o,r],h=c,m=h.url,b=h.params,v=h.extra;i(m)&&(m=m.apply(this,p)),i(b)&&(b=b.apply(this,p)),i(v)&&(v=v.apply(this,p)),a(m)&&confirm("确定要"+s.attr("title")+"？")&&(b?f(m,b,d,v):f(m,d,v)),t.stopPropagation()}else t.stopPropagation()}}},responseHandler:function(t){var e,n,i,r=(n=[],i=0,o(e=t)?(n=e,i=e.length):l(e)&&(o(e.result)?(n=e.result,i=e.totalCount):o(e.data)?(n=e.data,i=e.totalCount):l(e.data)&&o(e.data.result)&&(n=e.data.result,i=e.data.totalCount)),{rows:n,total:i});return y(t)?a(t)&&F(t):t.success||F(t.message),"server"===(void 0).sidePagination?r:r.rows}},form:{filter:function(t,e,n){return!0},serializer:function(t){return t}},dialog:{backdrop:!0,closeOnEsc:!0,selector:".js-addNewData",button:".js-saveNewData"},notification:{layer:{align:"center",alignClasses:{left:"u-textLeft",center:"u-textCenter",right:"u-textRight"},size:"normal",icons:{info:"fa-info-circle",success:"fa-check-circle",warning:"fa-warning",danger:"fa-warning"}}},generator:{imageColumnCount:3,actions:{}},uploader:{selector:".js-uploadImage",limit:0,draggable:!0,extension:{image:"jpeg,jpg,png,gif"}},watermark:{preventTamper:!1,text:"卖好车，车好卖！",font:"300 16px Sans-serif",rotate:345*Math.PI/180,translateX:-10,translateY:50,width:200,height:100,shadow:{offsetX:2,offsetY:2,blur:2},style:{width:"100%",height:"100%",position:"fixed",top:0,left:0,"z-index":1e3,"pointer-events":"none"},container:function(){return $(".js-watermark:not(.modal .js-watermark)").get(0)},mainOnly:!1,autoInit:!0}};function R(t,n,a){l(a)||(a={}),e("alertType",a)||(a.alertType="system"),H.ajax.responseHandler(t,n,a)}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.ajax.waitingText,n=t.closest(".modal");n.length&&(n.addClass("is-waiting"),$(".js-waitForResult",n).length?$(".js-waitForResult",n).show():$(".modal-content",n).append('<div class="Layer Layer--loading js-waitForResult"><p>'+e+"</p></div>"),$("button",$(".modal-header, .modal-footer",n)).prop("disabled",!0))}function M(t,e,n,a,r,s){var c={url:t,type:e,success:function(t){$(".modal:visible .js-waitForResult:visible").each(function(){var t=$(this),e=t.closest(".modal");t.hide(),e.removeClass("is-waiting"),$("button",$(".modal-header, .modal-footer",e)).prop("disabled",!1)}),R(t,function(e){i(a)&&a.call(null,e,t)},s)}};return n=l(n)||o(n)?n:T(n),!0===r?(c.data=JSON.stringify(n),c.contentType="application/json; charset=UTF-8"):m(e,["get","delete"])?g(n).length&&(c.url+="?"+b(g(n),function(t){return t+"="+encodeURIComponent(n[t])}).join("&")):c.data=n,$.ajax(c)}function G(t){return function(e,n,a,o){var r=void 0,s=void 0,c=void 0;if(l(e)){var d=e;e=d.url,n=d.data,a=d.callback,o=d.isJson,r=d.$waiting,s=d.waitingText,c=d.alertType}else i(n)?(o=a,a=n,n={}):l(a)?(r=a.$waiting,s=a.waitingText,c=a.alertType,o=a.isJson,a=a.callback):l(o)&&(r=o.$waiting,s=o.waitingText,c=o.alertType,o=o.isJson);return r&&B(r,s),null==c&&(c="system"),M(e,t,n,a,o,{alertType:c})}}var X=G("get"),q=G("post"),J=G("put"),Y=G("delete"),W=Object.freeze({get:X,post:q,put:J,delete:Y,result:R,waiting:B});function Q(){return e("localStorage",window)}var V=Object.freeze({init:function(t){if(a(t)&&(t={url:t}),e("WebSocket",window)&&l(t)&&e("url",t)){var n,o,r=new WebSocket((n=t.url,o=0===n.indexOf("//"),"localhost"===location.hostname?n=o?"ws:"+n:n.replace(/^ws(s)?\:\/\//,"ws://"):o&&(n="wss:"+n),n));return!1!==t.closeBeforeUnload&&window.addEventListener("beforeunload",function(){r.close()}),$.isNumeric(t.interval)&&1*t.interval>0&&r.addEventListener("open",function(){!function t(e,n){setTimeout(function(){e.send("使 WebSocket 连接保持活跃"),t(e,n)},n)}(r,t.interval)}),f(["open","close","message","error"],function(e){var n=t["on"+w(e)];i(n)&&r.addEventListener(e,n)}),r}}}),Z={edit:{text:"编辑",icon:"edit"},delete:{text:"删除",action:"delete",icon:"trash"},disable:{text:"禁用",icon:"pause"},enable:{text:"启用",icon:"play"}};function K(){return p(!0,{},Z,H.generator.actions)}function tt(t){return a(t)&&e(t,K())&&(t={action:t}),t}function et(t){var n=K(),a=void 0;if(e(a=!0===t.isDelete?"delete":t.action,n)){var i=n[a];f(g(i),function(n){e(n,t)||(t[n]=i[n])})}return t}function nt(t){var n=void 0;return a(t)?n=t:l(t)&&(n=e("html",t=et(t))?t.html:'<a class="js-'+t.action+'" href="'+(a(t.url)?t.url:"javascript:void(0);")+'"'+(!0===t.isExternal?'target="_blank"':"")+">"+t.text+"</a>"),"<li>"+(n||"")+"</li>"}function at(t,n){if(!l(t=tt(t)))return"";p(t,n);var i=[],r=t.size||"xs",s=e("actions",t)&&o(t.actions),c=x(t.classes);a(c)?c=c.split(" "):o(c)||(c=[]),c=["Operation","btn","btn-"+(!0===t.isPrimary?"primary":!0===t.isDelete?"danger":"default"),"btn-"+r].concat(c);var d,u,h=x(t.attributes);if(l(h)){var m=[];f(h,function(t,e){m.push(t+"="+e)}),h=m}else a(h)?h=h.split(" "):o(h)||(h=[]);return i.push(function(t){var e=[].concat(t.btnCls),n=[],i=void 0;a(t.action)&&e.push("js-"+t.action),a(t.url)?(i="a",n.push('href="'+t.url+'"'),!0===t.isExternal&&n.push('target="_blank"')):(i="button",n.push('type="button"'),!0===t.disabled&&n.push("disabled")),t.hasChildren&&!0!==t.isSplit&&(e.push("dropdown-toggle"),n.push('data-toggle="dropdown"')),n.push('class="'+e.join(" ")+'"','title="'+(t.tooltip||t.text)+'"');var o=["<"+i+" "+n.concat(t.btnAttrs).join(" ")+">"];if(a(t.icon)){var r=["Operation-icon","fa","fa-"+t.icon];!1!==t.fixedWidth&&r.push("fa-fw"),o.push('<i class="'+r.join(" ")+'"></i><span class="'+(!0===t.isCoexisted?"Operation-label":"sr-only")+'">'+t.text+"</span>")}else o.push(t.text);return t.hasChildren&&!0!==t.isSplit&&o.push('<span class="caret"></span>'),o.push("</"+i+">"),o.join("")}(p({},et(t),{btnCls:c.concat(a(t.buttonClass)?t.buttonClass:[]),btnAttrs:h,hasChildren:s}))),s&&(i.unshift('<div class="btn-group btn-group-'+r+'">'),i.push((d=p({},t,{btnCls:c}),u=[],!0===d.isSplit&&u.push('<button type="button" class="'+d.btnCls.concat("dropdown-toggle").join(" ")+'" data-toggle="dropdown"',!0===d.disabled?" disabled":"",'><span class="caret"></span></button>'),u.push('<ul class="Operation-menu dropdown-menu',"right"===d.align?" dropdown-menu-right":"",'">'),u.push(b(d.actions,function(t,e){var n=o(t),a=n?b(t,function(t){return nt(t)}).join(""):nt(t);return e>0&&n&&(a='<li class="divider"></li>'+a),a}).join("")),u.push("</ul>"),u.join("")),"</div>")),i.join("")}var it=1050,ot=0;function rt(t,e){if(i(e.onFormSubmit))return e.onFormSubmit;var n=x(e.ajax)||{};a(n)&&(n={url:n});var o=n.url;if(!m($.type(o),["string","function"]))return $.noop;var r=n,s=r.method,l=r.params,c=r.callback;return f(["url","method","params","callback"],function(t){delete n[t]}),function(r,d,u,f){var h,b,v,g=(h=d,b=this,i(v=s)&&(v=v.call(b,h)),a(v)&&m(v.toLowerCase(),["post","put"])&&(v="post"===v.toLowerCase()?q:J),i(v)||(v=q),v),$=o;i($)&&($=$.call(null,d)),i(l)&&(d=l.call(this,d)),g($,d,function(){i(c)&&c.call(null),U(e.$table),t.modal("hide")},p({isJson:!0===H.ajax.RESTful,$waiting:t},n))}}function st(t,n){var a=H.dialog.selector;l(t)?(n=t,t=$(a)):(t=$(t),l(n)||(n={}));var o,r,s=(o=t,0!==(r=$(n.$form)).length&&$.contains(o.get(0),r.get(0))||(r=$("form",o)),r.eq(0));if(t.is(".modal")&&1===s.length){S(s),t.is(a)&&(e("$button",n)||e("$btn",n)||(n.$button=$(H.dialog.button)),e("$table",n)||(n.$table=N()));var c=$(n.$button);0===c.length&&(c=$(n.$btn)),c.length>0&&c.on("click",function(){s.trigger("submit")});var d=rt(t,n);s.on({"H5F:submit":function(t,e,n){return d.apply(this,[t,T(s),e,n]),n.preventDefault(),!1},reset:function(){i(n.onFormReset)&&n.onFormReset.apply(this,arguments)}});var u=n.onDialogClose;return i(u)||(u=n.onModalHide),t.on("hidden.bs.modal",function(){s.trigger("reset"),t.removeClass("is-editing is-viewing"),i(u)&&u.apply(this,arguments)}),t}}var lt=Object.freeze({init:st,levelUp:function(t){var e=t.data("bs.modal").$backdrop,n=2*ot*10;t.css("z-index",it+n),e&&e.css("z-index",it+n-10),ot++},levelDown:function(t){var e=t.data("bs.modal").$backdrop;t.css("z-index",it),e&&e.css("z-index",it-10),ot--},top:function(){return[].sort.call($(".modal:visible"),function(t,e){return 1*$(t).css("z-index")<1*$(e).css("z-index")}).first()}});function ct(t){return p({},H.table.toolbarActions.basic,t)}function dt(t){return t.bootstrapTable("getAllSelections")}function ut(t){return 0===dt(t).length}function ft(t,e,n){n.on("click",".js-"+t.action,function(n){return t.handler.apply(this,[n,dt(e),e])})}function pt(t,e,n,r){f([].concat(t),function(t){o(t)?pt(t,e,n,r):a(t.action)&&i(t.handler)&&e(t,n,r)})}$.fn.bootstrapTable.Constructor.prototype.initToolbar=function(){var t=this.options;t.__$search=$(".Area--query form");var n=t.toolbar;if(!0===n&&(n={}),l(n)||t.showColumns){p(!0,t,{__tableInst:this,__toolbar:n,__$toolbar:$('<div id="'+j("toolbar")+'" class="Table-toolbar u-clearfix" />')});var r=this.$el,s=this.$toolbar;t.toolbar=null,s.prepend(t.__$toolbar),function(t,n,r,s){if(!l(t))return;var c=$('<div class="OperationGroup u-floatLeft u-hidden" />');c.append((d=t,u=n,h=r,m=s,[function(t,n){var i=e("dialog",t);if(!0===t&&(t={}),!l(t)||!($.isEmptyObject(t)||e("button",t)||i))return"";var o=p(!0,{},ct(H.table.toolbarActions.create),t.button,{size:n.iconSize,isPrimary:!0}),r=["Table-action--create"];a(o.classes)&&""!==o.classes&&(r=r.concat(o.classes.split(" "))),o.classes=r;var s=[];if(!a(o.url)){var c=i?t.dialog:{};if(l(c)){var d=c.selector;a(d)?delete c.selector:d=H.dialog.selector,n.__$dialog=$(d),s.push('data-toggle="modal"','data-target="'+d+'"')}}return at(p(o,{attributes:s}))}(L(d),u),function(t,e,n,a){var i=ct({size:e.iconSize});if(l(t))t=[p({},i,t)];else if(!o(t))return"";var r=function(t,e,n){n.on("click",".js-"+t.action,function(a){return t.handler.apply(this,[a,e,n])})},s=[];return f(t,function(t){t=tt(t),s.push(at(p({},i,t))),pt(t,r,n,a),o(t.actions)&&pt(t.actions,r,n,a)}),s.join("")}(x(d.actions),u,h,m),function(t,e,n,a){var r=[],s=!1,c=!1;if(o(t)?r=t:l(t)&&o(t.actions)&&(r=t.actions,s=!0===t.isPrimary,i(t.handler)?(c=!0,ft({action:H.table.toolbarActions.batch.action,handler:t.handler},n,a)):c=!0===t.isSplit),0===r.length)return"";var d=p(!0,{},ct(H.table.toolbarActions.batch),{buttonClass:"Table-action--batch",size:e.iconSize,disabled:!0,isSplit:c});return 1!==r.length||o(r[0])?p(d,{actions:r,isPrimary:s}):p(!0,d,et(tt(r[0]))),pt(r,ft,n,a),at(d)}(x(d.batch),u,h,m)].join(""))),c.children().length>0&&c.removeClass("u-hidden");var d,u,h,m;n.__$toolbar.prepend(c);var b=$(".Table-action--batch",c);b.is(".js-"+H.table.toolbarActions.batch.action)&&(b=b.add(b.siblings("button")));r.on({"check.bs.table      uncheck.bs.table      check-some.bs.table      uncheck-some.bs.table      check-all.bs.table      uncheck-all.bs.table":function(){b.prop("disabled",ut(r))},"post-body.bs.table":function(t,e){b.prop("disabled",0===e.length||ut(r))},"refresh.bs.table":function(){(n.url||n.ajaxOptions&&n.ajaxOptions.url)&&b.prop("disabled",!0)},"page-change.bs.table":function(){b.prop("disabled","server"===n.sidePagination||ut(r))}}),n.__$dialog&&st(n.__$dialog,p({$table:r},L(t).dialog));n.__$left=c,n.__$batch=b}(n,t,r,s),function(t,n,a,i){var r=$('<div class="OperationGroup u-floatRight u-hidden" />');n.__$toolbar.append(r),n.__$right=r,l(t)&&function(t,n,a,i){if(!l(t)||$(".Table-search",i).length>0)return;var r=$(function(t,n){var a=x(t.field);l(a)&&(a=[a]);if(!o(a))return;var i=[],r=[];if(f(a,function(t){!0===t.required||!0===t.isHidden?r.push(t):i.push(t)}),0===i.length)return;var s=i[0],c=j("search"),d=['<div class="Table-search u-floatLeft">','<form class="input-group input-group-'+n.iconSize+'">'];t.__selectable=i,i.length>1?d.push('<div class="input-group-btn">','<button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button"><span>'+s.text+'</span><span class="caret"></span></button>','<ul class="Operation-menu dropdown-menu">',b(i,function(t){return'<li><a href="javascript:void(0);" data-field="'+t.name+'" data-placeholder="'+t.placeholder+'">'+t.text+"</a></li>"}).join(""),"</ul></div>"):!0===t.label&&d.push('<label class="input-group-addon" for="'+c+'">'+s.text+"</label>");return d.push('<input id="'+c+'" class="form-control" type="text" name="'+s.name+'" value="" placeholder="'+(s.placeholder||"")+'">',b(r,function(t){return'<input type="hidden" name="'+t.name+'" value="'+(e("value",t)?t.value:"")+'">'}).join(""),'<div class="input-group-btn">','<button class="btn btn-default js-executeTableSearch" type="submit" title="查询"><i class="fa fa-search fa-fw"></i><span class="sr-only">查询</span></button>',function(t,e){l(t)||(t={selector:t}),t=p(!0,{},H.table.toolbarActions.search.filter,t);var n=$(t.selector);if(1!==n.length||!m(t.mode,["dropdown","dialog"]))return"";var a=j("filter"),i=[],o=void 0;return"dialog"===t.mode?(o=$('<div id="'+a+'" class="Table-filter--dialog modal fade">\n        <div class="modal-dialog modal-'+t.dialog.size+'">\n          <div class="modal-content">\n            <div class="modal-header">\n              <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>\n              <h4 class="modal-title">'+t.dialog.title+'</h4>\n            </div>\n            <div class="modal-body"></div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>\n              <button type="button" class="btn btn-default js-resetTableFilters">重置</button>\n              <button type="button" class="btn btn-primary js-executeTableFilters">筛选</button>\n            </div>\n          </div>\n        </div>\n      </div>'),$(".modal-body",o).append(n),$("body").append(o),i.push('data-toggle="modal"','data-target="#'+a+'"')):(o=$('<div id="'+a+'" class="Table-filter--dropdown Card u-clearfix u-hidden">\n        <div class="Card-content"></div>\n        <div class="Card-footer"><button type="button" class="btn btn-primary btn-sm js-executeTableFilters"><i class="fa fa-filter"></i><span>筛选</span></button><button type="reset" class="btn btn-default btn-sm js-resetTableFilters"><i class="fa fa-refresh"></i><span>重置</span></button></div>\n      </div>'),$(".Card-content",o).append(n)),$("select",n).each(function(){$(this).data("select2").$container.css("width","100%")}),o.addClass("Table-filter js-showTableFilters"),n.removeClass("u-hidden"),e.__$filter=o,at(p(ct(t.button),{size:e.iconSize,attributes:i}))}(x(t.filter),n),"</div>","</form></div>"),d.join("")}(t,n)),s=$("[id^='search']",r),c=n.__$filter;if(n.__$search=$("form",r),n.__$right.append(r),$("form",r.add(c)).on("submit",function(){return U(a,!0),!1}),$(".dropdown-menu a",r).on("click",function(){var t=$(this),e=$(".dropdown-toggle",r);$("span:first",e).text(t.text()),s.attr({name:t.attr("data-field"),placeholder:t.attr("data-placeholder")}).val("")}),c){var d=$("form",c),u=$("form",r);c.hasClass("Table-filter--dropdown")?(i.append(c),$(".js-showMoreFilters",i).on("click",function(){var t=$(this),e="is-dropped",a="u-hidden",o=$(".js-executeTableSearch, [id^='search']",i).add($(".dropdown-toggle",u));return t.hasClass(e)?(c.addClass(a),t.removeClass(e),o.prop("disabled",!1),d.trigger("reset"),n.__$search=u):(c.removeClass(a),t.addClass(e),o.prop("disabled",!0),u.trigger("reset"),n.__$search=d),!1}),$(".js-executeTableFilters",c).on("click",function(){d.trigger("submit")})):c.hasClass("Table-filter--dialog")&&$(".js-executeTableFilters",c).on("click",function(){n.__$search=d,u.trigger("reset"),d.trigger("submit"),n.__$search=u,c.modal("hide")}),$(".js-resetTableFilters",c).on("click",function(){d.trigger("reset")})}r.ready(function(){return r.width(function(t,e){var n=parseFloat(t.width,10);if($.isNumeric(n))return n;var a=H.table.toolbarActions.search.width;if("auto"!==a&&(n=parseFloat(a,10),$.isNumeric(n)))return n;var i=$("[id^='search']",e),o=$(".dropdown-menu",e),r=x(t.__selectable).sort(function(t,e){return t.text.length+t.placeholder.length<e.text.length+e.placeholder.length}).shift(),s=parseFloat(i.css("font-size"),10);if(n=parseFloat(i.css("border-left-width"),10)+parseFloat(i.css("padding-left"),10)+parseFloat(i.css("padding-right"),10)+parseFloat(i.css("border-right-width"),10)+r.placeholder.length*s+$(".js-executeTableSearch",e).parent().width(),o.length)return n+o.parent().width()-($("span",o.siblings(".dropdown-toggle")).text().length-r.text.length)*s;return n+$("label",e).outerWidth()||0}(t,r))})}(t.search,n,a,i);!0===n.showColumns&&function(t,e,n){var a=t.__tableInst,i=$((o=t,r=['<div class="Table-columnToggle u-floatLeft keep-open">'],s=[],f(o.__tableInst.columns,function(t,e){if(!t.radio&&!t.checkbox&&(!o.cardView||t.cardVisible)&&t.switchable&&t.field!==H.table.operationColumn.field){var n=['type="checkbox"','data-field="'+t.field+'"','value="'+e+'"'];t.visible&&n.push("checked"),s.push("<label><input "+n.join(" ")+"> "+t.title+"</label>")}}),r.push(at(ct({text:"切换列状态",size:o.iconSize,icon:o.icons.columns.replace(/^fa\-/,""),isCoexisted:!1,align:"right",actions:s}))),r.push("</div>"),r.join("")));var o,r,s;t.__$right.append(i);var l=$(".Operation-menu li",i),c=$(":checkbox",i);l.length<=t.minimumCountColumns&&c.prop("disabled",!0);l.on("click",function(t){t.stopPropagation()}),c.on("change",function(){var t=$(this),e=t.prop("checked");a.toggleColumn(t.val(),e,!1),a.trigger("column-switch",t.attr("data-field"),e)})}(n);r.children().length>0&&r.removeClass("u-hidden")}(n,t,r,s),C($("[title]",t.__$toolbar))}};var ht=$.fn.bootstrapTable.Constructor.prototype.initHeader;function mt(t){var e,n,a,i,o,r,s;if(n=!1,i=(e=t).$tableContainer,o=e.$tableHeader,r=e.$tableBody,s=P(e.options),!1!==n?(r.css("height",a),i.addClass("is-sticky"),o.show(),s&&r.css("position","relative").find(".Table-container--alternative").css("margin-right","-"+r.scrollLeft()+"px")):(r.css("height","auto"),i.removeClass("is-sticky"),$("> table",o.hide()).css("margin-left",0),s&&r.css("position","static").find(".Table-container--alternative").css("margin-right",0)),P(t.options)){var l=t.$tableBody,c=$(".Table-container--alternative",t.$tableContainer);l.width()+l.scrollLeft()===t.$el.width()?c.hide():c.show()}}function bt(t){var e={};return f(t.split("&"),function(t){t=t.split("="),e[t[0]]=decodeURIComponent(t[1])}),e}function vt(t){return function(e){var n=location.href;a(e)&&(/^(http(s)?\:)?\/\//i.test(e)||-1!==e.indexOf("AJAX_URL_PLACEHOLDER"))||(e=n);var i,o,r=(i=e,o=document.createElement("a"),o.setAttribute("href",i),o)[t];return m(t,["hash","search"])?r.slice(1):r}}$.fn.bootstrapTable.Constructor.prototype.initHeader=function(){var t=this;ht.apply(t,h(arguments));var e=t.options,n=t.$el,a=t.$tableHeader,i=$("table",a);!0===e.sticky&&(i.addClass(e.classes).append(t.$header.clone(!0,!0)),n.on("post-body.bs.table",function(){mt(t),i.width(n.width()),$("th",t.$header).each(function(){var t=$(this),e=$('[data-field="'+t.attr("data-field")+'"]',i);e.width(t.width()),e.height(t.height())}),$(".Table-container--alternative th",a).width($("[data-field='"+H.table.operationColumn.field+"']",a).width())}))};var gt=vt("search"),$t=vt("href"),yt=vt("protocol"),wt=vt("host"),xt=vt("hostname"),jt=vt("port"),Ct=vt("pathname"),kt=vt("hash"),_t=vt("username"),Tt=vt("password"),Ot=vt("origin");var St=Object.freeze({href:$t,protocol:yt,host:wt,hostname:xt,port:jt,pathname:Ct,hash:kt,username:_t,password:Tt,origin:Ot,query:function(t,e){var n=location.href;1===arguments.length&&a(t)&&-1===t.indexOf("http")&&(e=t,t=n),a(t)||(t=n);var i=bt(gt(t));return null==e?i:i[e]},search:gt});function zt(t){var e=Ct(t).split("/"),n=e.length,a=e[n-1];""===a&&(a=e[n-2]);var i=a.match(/\.([^\.]+)$/);return i?i[1].toUpperCase():""}var It={IMAGE_ITEM_MAX:"muu.imageItemMax"};function At(t,e){return $(".ImageItem:not(.ImageItem--add)",t.closest(".ImageList").parent()).length>=e}function Et(t,e,n){var i=[];e=e||"";var o=void 0;return t&&a(t)&&(o=zt(t)),i.push('<figure class="ImageItem'),t&&o&&!m(o.toLowerCase(),H.uploader.extension.image.split(","))&&i.push(" is-nongraphic"),i.push('"><div><a href="'+(t||"javascript:void(0);")+'" target="_blank" data-file-ext="'+o+'"><img src="'+(t||"")+'" alt="'+e+'" title="'+e+'"></a></div>'),e&&i.push('<figcaption class="u-textTruncate" title="'+e+'">'+e+"</figcaption>"),!0===n&&i.push('<button type="button" class="ImageItem-button fa fa-close js-removeUploadedImage" title="删除"><span class="sr-only"></span></button>'),i.push("</figure>"),i.join("")}function Ft(t){var e=$(t.$btn),n=t.max;if(!(!e.is(".ImageItem")||n&&At(e,n))){var a=Number(t.column);(isNaN(a)||a<=0)&&(a=H.generator.imageColumnCount);var i="ImageList",o="ImageList-item",r=t.$btn.closest("."+o),s=$('<div class="'+o+" col-sm-"+12/a+' is-dynamic" />');s.html(Et(t.url,t.text,t.removable)),r.before(s),isFunction(t.callback)&&t.callback.call(null,s,r);var l=r.siblings("."+o).length;if(l===a&&($("."+i+":last",t.$el).after('<div class="'+i+' row" />'),$("."+i+":last",t.$el).append(r)),n){var c=r.closest("."+i),d="u-hidden";e.data(It.IMAGE_ITEM_MAX,n),$("."+i+"."+d+", ."+o+"."+d,c.parent()).removeClass(d),At(c,n)&&(r.addClass(d),0===l&&c.addClass(d))}return s}}function Dt(t,e){if(l(t=tt(t))&&(t=[t]),!o(t=t.concat(H.table.rowActions)))return!1;var n=b(t,function(t){return at(t,{align:"right"})});return(t.length>1||!0===e)&&(n.unshift('<div class="OperationGroup">'),n.push("</div>")),n.join("")}var Nt=Object.freeze({action:Dt,option:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],a=arguments[3],i=['class="is-dynamic"','value="'+t+'"'];return l(n)?f(n,function(t,e){i.push("data-"+t+'="'+e+'"')}):a=n,!0===a&&i.push("selected"),"<option "+i.join(" ")+">"+e+"</option>"},image:Et,imageItem:Ft});function Lt(t,e,n){l(e)&&$("[data-field]",t).each(function(){var t=$(this),o=e[t.attr("data-field")];t.is("img")?(t.attr("src",o||""),function(t,e){var n=t.closest(".ImageItem");if(n.length>0){var i=void 0;a(e)&&(i=zt(e));var o=t.closest("a");e?(o.attr("href",e),n.removeClass("is-empty"),i&&!m(i.toLowerCase(),H.uploader.extension.image.split(","))?n.addClass("is-nongraphic"):n.removeClass("is-nongraphic")):(o.attr("href","javascript:void(0);"),n.addClass("is-empty")),o.attr("data-file-ext",i)}}(t,o)):t.text(o||"-"),i(n)&&n.apply(this,[t.attr("data-field"),o])})}var Pt=Object.freeze({fill:Lt,datepicker:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(".js-pickDate"),e=arguments[1];t.each(function(){var t=this,n=$(this),a=$('[name="'+n.attr("data-to")+'"]',n.closest("form"));n.datepicker(p({language:"zh-CN",autohide:!0},a.length?{pick:function(){a.val(moment($(t).datepicker("getDate")).format())}}:null,e)),a.length&&n.on("change",function(){""===$(this).val()&&a.val("")})})},datetimepicker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(t)&&(e=t,t=null),t=null==t?$(".js-pickDateTime"):$(t),e=x(e),t.each(function(){var t=$(this);if(t.is(".js-pickDatePeriod")){var n="input:not([type='hidden'])",a=$(n,t);2===a.length&&a.each(function(t){var a=$(this),i=void 0;0===t?i="minDate":(i="maxDate",e.useCurrent=!1),a.datetimepicker(e).on("dp.change",function(t){var e=$(this),a=t.date;e.siblings(n).data("DateTimePicker")[i](a),$("input[name='"+e.attr("data-to")+"']",e.closest("form")).val(moment(a).format())})})}else t.datetimepicker(e)})}});function Ut(t){var n=t.columns,r=t.operation,s=x(H.table.operationColumn),c=[],d=!1,u=void 0;return o(n)&&f(n,function(n){e("checkbox",n)&&(d=!0),n.field===s.field?(t.__operationDefinedByColumns=!0,u=n):c.push(n)}),!d&&l(t.toolbar)&&e("batch",t.toolbar)&&c.unshift({checkbox:!0}),u?u.title||(u.title=s.text):l(r)&&(u=function(t,e){var n=e.actions,r={},s=void 0;if(e.width&&(t.width=e.width),i(e.formatter))s=e.formatter;else if(i(n))s=function(t,e,a){return Dt(n.apply(this,[e,a]))};else if(o(n)&&n.length>0){var c=[];f(n,function(t){if(l(t=tt(t))){if(a((t=et(t)).action)&&i(t.handler)){var e=t.handler;r["click .js-"+t.action]=function(t,n,a,i){var o=e.apply(this,[t,a,i]);return t.stopPropagation(),o},delete t.handler}c.push(t)}}),s=function(t,e,n){var a=this;return Dt(b(c,function(t){return i((t=x(t)).text)&&(t.text=t.text.apply(a,[e,n])),t}))}}return t.__muuAjaxOpts=e.ajax,t.formatter=s,t.events=p(!0,{},e.events,r),t}({title:s.text,field:s.field},r)),c.concat(u?p(!0,{events:s.events},u):[])}function Ht(t,e){var n=o(t)?t.concat([]):[];return"boolean"!==$.type(e)&&(e=H.table.showRowNumber),!0===e&&n.unshift({field:"serialNumber",title:"序号",align:"center",formatter:function(t,e,n){return++n}}),b(n,function(t){var e=t.viewDetail,n=t.formatter,o=t.dateTimeFormatter;return l(e)?(t.formatter=function(t){return i(n)&&(t=n.apply(this,h(arguments))),'<a href="javascript:void(0);" class="js-openDetailDialog">'+(t||"-")+"</a>"},t.events=p({},t.events,{"click .js-openDetailDialog":function(t,n,a){X(e.url,e.params(n,a),function(t){var o=$(".js-viewDetail");i(e.handler)?e.handler.apply(null,[n,a,t,o]):Lt(o,t),o.modal("show")}),t.stopPropagation()}})):o&&(t.formatter=function(t){return!0===o&&(o="YYYY-MM-DD HH:mm:ss"),a(o)&&moment?moment(t).format(o):i(o)?o.call(this,t):t}),t})}function Rt(t){var n,o,r=t.url,s=t.ajaxOptions;if(s=p(!0,{},$.fn.bootstrapTable.defaults.ajaxOptions,s),t.columns=Ht(Ut(t),t.showRowNumber),r||(r=s.url,delete s.url),i(r)){var c=s.beforeSend,d=r;r="AJAX_URL_PLACEHOLDER",s.beforeSend=function(t,e){if(e.url=d(bt(e.data||gt(e.url))),i(c))return c.apply(null,[t,e])}}return t.slim=e("slim",t)?!0===t.slim:H.table.slim,t.classes=(n=t.slim,o=H.table.classes,!0===n&&(o=o.split(" ").concat("Table--slim").join(" ")),o),l(t.operation)&&!e("sticky",t.operation)&&(t.operation.sticky=!!t.slim||H.table.operationColumn.sticky),t.slim?(e("sticky",t)||(t.sticky=!0),t.columns=b(t.columns,function(n){if(e("width",n)){var o=n.width,r=n.formatter;n.formatter=function(n){var s="auto",l=n;return $.isNumeric(o)?s=o+"px":a(o)&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(o)&&(s=o),i(r)&&(l=r.apply(this,h(arguments))),null==l&&(l=e("undefinedText",t)?t.undefinedText:$.fn.bootstrapTable.defaults.undefinedText),'<div style="width: '+s+'; white-space: normal; word-break: break-all;">'+l+"</div>"}}return n})):t.operation&&(t.operation.sticky=!1),p(!0,t,{url:r,ajaxOptions:s})}function Bt(t){var e=t.data,n=e.stickyOpts,a=e.tableInst,i=$(".Page-header").outerHeight();toggleTableStickyStatus(a,t.data.$container.offset().top-i<=n.top,document.documentElement.clientHeight-i-n.top-a.$toolbar.outerHeight()-a.$pagination.outerHeight())}function Mt(t){var e=t.data.tableInst,n=$(this),a=n.scrollLeft(),i=".Table-container--alternative";$("> table",e.$tableHeader).css("margin-left","-"+a+"px"),P(e.options)&&e.$tableContainer.hasClass("is-sticky")&&$(i,e.$tableBody).css("margin-right",e.$tableContainer.hasClass("is-sticky")?"-"+a+"px":0);var o=$(i,e.$tableContainer);n.width()+a===e.$el.width()?o.hide():o.show()}function Gt(t){var e=$(this),n=e.data("bootstrap.table");if(n){var a=H.table.operationColumn.field,i=n.$tableHeader,o=n.$tableBody,r=$("[data-field='"+a+"']",e),s=$("thead th",e).index(r),l="Table-container--alternative";if(n.options.sticky&&0===$("."+l,i).length&&i.append('<div class="'+l+'"><table><thead><tr></tr></thead></table></div>').find("."+l+" tr").append($("[data-field='"+a+"']",i).clone()),0===$("."+l,o).length){var c=v(n.options.classes.split(" "),function(t){return"table-hover"!==t});o.append('<div class="'+l+'"><table class="'+c.join(" ")+'"><thead><tr></tr></thead><tbody></tbody></table></div>')}var d=$("."+l+" table",o),u=n.$body.children().clone(!0,!0);u.each(function(t){var e=$(this),a=$("tr:eq("+t+") td:eq("+s+")",n.$body),i=$("td:eq("+s+")",e);i.width(a.outerWidth()),i.height(a.outerHeight()),$("td:lt("+s+")",e).remove()}),$("thead tr",d).empty().append(r.clone(!0,!0)),$("tbody",d).empty().append(u),d.data("bootstrap.table",n)}}var Xt=Object.freeze({init:function(t,e){l(t)&&(e=t,t=null),t||(t=getDefaultTable()),P(e=Rt(e))&&t.on("post-body.bs.table",Gt),t.on({"post-body.bs.table":function(){C($("[title]",t))},"reset-view.bs.table       refresh-options.bs.table       refresh.bs.table":function(){$("[title]",t).tooltip("destroy")}});var n=e,a=n.lazy,i=n.url,o=n.sticky;!0===a&&(delete e.lazy,delete e.url),t.bootstrapTable(e);var r=j("table"),s=t.data("bootstrap.table");if(s.$container.attr("id",r),!0===a&&(s.options.url=i),e.slim&&s.$tableBody.on("scroll."+r,{tableInst:s},Mt),o){var c={top:15},d=void 0;!0===o?d=c:l(o)&&(d=p(!0,c,o)),l(d)&&function(t,e){var n=t.data("bootstrap.table"),a=n.$container;if(!(a.closest(".modal").length>0)){var i=a.attr("id");$(window).on("resize."+i,{$container:a,tableInst:n,stickyOpts:e},Bt),$(".Page-content").on("scroll."+i,{$container:a,tableInst:n,stickyOpts:e},Bt)}}(t,d)}},columns:Ht,refresh:U});function qt(t,e){var n,a,i,o;return t=t.toString(10),e=e.toString(10),n=t.split("."),a=e.split("."),i=2===n.length?n[1].length:0,o=2===a.length?a[1].length:0,Math.max(i,o)}function Jt(t,e){var n,a=void 0;if(0===e)return t;n=(a=(t=t.toString(10)).split("."))[1]?a[1]:"",a=a[0];for(var i=0;i<e;i++)a+=n[i]?n[i]:"0";return 1*a}function Yt(t,e){if(0===e)return t;var n,a=void 0;2===(a=(t=t.toString()).split(".")).length&&(e+=a[1].length,t=t.replace(".","")),a=t.split(""),n=t.length;for(var i=0;i<e-n;i++)a.unshift("0");return a.splice(a.length-e,0,"."),1*a.join("")}var Wt=Object.freeze({getMoveDigit:qt,move2Right:Jt,move2Left:Yt,plus:function(t,e){var n=qt(t,e);return Yt(Jt(t,n)+Jt(e,n),n)},minus:function(t,e){var n=qt(t,e);return Yt(Jt(t,n)-Jt(e,n),n)},multiply:function(t,e){var n=qt(t,e);return Yt(Jt(t,n)*Jt(e,n),2*n)},divided:function(t,e){var n=qt(t,e);return Yt(Jt(t,n)/Jt(e,n),n)}});var Qt=Object.freeze({changed:function(t,e,n){var a={};return l(t)&&(l(e)?(o(n)||(n=[]),f(t,function(t,i){(n.length>0&&m(t,n)||i!==e[t])&&(a[t]=i)})):a=t),a}}),Vt={GAODE:"gaode",BAIDU:"baidu"},Zt=b(g(Vt),function(t){return Vt[t]});function Kt(t,e){return l(t)&&a(t.longitude)&&a(t.latitude)?p({name:e},t):a(t)?1===(t=t.split(",")).length?null:{longitude:t[0],latitude:t[1],name:t[2]||e}:null}var te=Object.freeze({route:function(t,n,a){if(1===arguments.length){if(!l(t)||!e("from",t)||!e("to",t))return"";e("map",t)&&(a=t.map),n=t.to,t=t.from}if(!m(a,Zt))return"";if(t=Kt(t,"起始地"),n=Kt(n,"目的地"),!l(t)||!l(n))return"";var i=location.href;return a===Vt.GAODE?"http://uri.amap.com/navigation?from="+t.longitude+","+t.latitude+","+t.name+"&to="+n.longitude+","+n.latitude+","+n.name+"&via=&mode=car&policy=0&src="+i+"&coordinate=gaode&callnative=1":a===Vt.BAIDU?"http://api.map.baidu.com/direction?origin=latlng:"+t.latitude+","+t.longitude+"|name:"+t.name+"&destination=latlng:"+n.latitude+","+n.longitude+"|name:"+n.name+"&mode=driving&origin_region="+t.name+"&destination_region="+n.name+"&output=html&src="+i:void 0}}),ee="MUU:NotificationCount",ne=["info","success","warning","danger"],ae=0;function ie(t){return"granted"===t}function oe(t){var e=x(t),n=["click","error","close","show"];delete t.title,f(n,function(e){delete t["on"+w(e)]});var a=new Notification(e.title,t);return f(n,function(t){var n=e["on"+w(t)];i(n)&&(a["on"+t]=n)}),a}function re(){var t=$(".Action--notification");if(0!==t.length){var e=$(".Notification-counter",t);return 0===e.length&&(e=$('<span class="Notification-counter"></span>'),$(".Action-trigger",t).append(e)),e}}function se(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re();ae=0,t&&t.remove(),Q()&&localStorage.removeItem(ee)}function le(t){return function(e,n){return a=e,i=t,o=n,r=H.notification.layer,s=$(".Page-body > .Layer--notice"),l=[],0===s.length?(l.push("Layer--notice"),"normal"!==r.size&&m(r.size,["medium","large"])&&l.push("is-"+r.size),s=$('<div class="'+l.join(" ")+'"><i class="fa fa-fw"></i><span></span></div>'),r.alignClasses[r.align]&&s.addClass(r.alignClasses[r.align]),$(".Page-body").prepend(s),s.on("webkitAnimationEnd animationend",function(){s.removeClass("is-shown")})):(s.removeClass(b(["bg","text"],function(t){return b(ne,function(e){return t+"-"+e})}).concat("is-shown","is-over").join(" ")),$(".fa",s).removeClass(b(ne,function(t){return r.icons[t]}).join(" "))),m(i,ne)||(i="info"),$(".fa",s).addClass(r.icons[i]),$("span",s).html(a),l=["bg-"+i,"text-"+i,"is-shown"],(!0===o||$(".modal:visible").length)&&l.push("is-over"),void s.addClass(l.join(" "));var a,i,o,r,s,l}}var ce=le("info"),de=le("success"),ue=le("warning"),fe=le("danger");var pe=Object.freeze({info:ce,success:de,warning:ue,danger:fe,show:function(t){if(isString(t)&&(t={title:t}),e("Notification",window)&&l(t)&&e("title",t)){var n=void 0;return ie(Notification.permission)?n=oe(t):"denied"!==Notification.permission&&Notification.requestPermission(function(e){ie(e)&&oe(t)}),n}},count:function(t){return $.isNumeric(t)&&(1*t>0||0!==ae)&&function(t){ae+=t;var e=re();0===ae?se(e):(e&&e.text(ae>99?"99+":ae),Q()&&localStorage.setItem(ee,ae))}(1*t),ae},clear:function(){se()}});var he=Object.freeze({copy:function(t,e){var n,i,o=void 0;if(!a(t)){var r=(o=$(t)).get(0);if(null==r||1!==r.nodeType)return;t=m(r.tagName.toLowerCase(),["input","textarea"])?o.val():o.text()}return n=t,(i=document.createElement("input")).setAttribute("value",n),document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),o&&!0===e&&o.select(),t}});function me(t,e){$("a",t).attr({href:e||"javascript:void(0);","data-file-ext":zt(e)}),$("img",t).attr("src",e)}function be(t,e){var n=i((t=p(!0,{multi_selection:!1},t)).url);n&&(t.url="dynamicUrlPlaceholder");var a,o,r=void 0;if(t.uptoken){t.runtimes||(t.runtimes="html5,flash,html4");var s=(a=t.init,o={qiniu:{},stashed:{}},a&&f(["FilesAdded","BeforeUpload","FileUploaded"],function(t){i(a[t])&&(o.stashed[t]=a[t],delete a[t])}),o.qiniu=a,o);t.init=s.qiniu,(r=Qiniu.uploader(t)).__muu=s.stashed,r.bind("FileUploaded",function(t,e,n){me($('[data-file-id="'+e.id+'"]'),""+t.getOption("domain")+JSON.parse(n.response).key)})}else(r=new plupload.Uploader(t)).bind("FileUploaded",function(t,n,a){i(e.getImageUrl)&&me($('[data-file-id="'+n.id+'"]'),e.getImageUrl(JSON.parse(a.response)))}),r.init();return r.bind("FilesAdded",function(e,a){n&&r.setOption("url",t.url())}),r.bind("BeforeUpload",function(t,e){$('[data-file-id="'+e.id+'"]').addClass("is-uploading")}),r.bind("FileUploaded",function(t,e){var n=$('[data-file-id="'+e.id+'"]');n.removeClass("is-uploading"),/^image\/[^\/]+/gi.test(e.type)?n.removeClass("is-nongraphic"):n.addClass("is-nongraphic")}),r}function ve(t,e){var n=be(t,e);return n.bind("FilesAdded",function(e,n){var a=$(t.browse_button).siblings(".ImageItem"),i=n[0];me(a,""),a.removeClass("is-empty").attr("data-file-id",i.id)}),n}function ge(t,e){var n=be(t,e);return n.bind("FilesAdded",function(n,a){var o=$(t.browse_button),r=o.closest(".ImageList").parent();f(a,function(t){Ft({$btn:o,$el:r,text:t.name,column:e.column,max:e.limit,removable:!0,callback:function(n,a){$(".ImageItem",n).attr("data-file-id",t.id),i(e.imageItemAdded)&&e.imageItemAdded.call(null,n,a)}})})}),n}var $e=Object.freeze({image:function(t,n){var a=void 0,i=void 0;if(t=$(t),l((n=p(!0,{limit:H.uploader.limit,draggable:H.uploader.draggable,settings:null},n)).settings)){var o={browse_button:t.get(0),filters:{mime_types:[{title:"图片文件",extensions:H.uploader.extension.image}]}};!0===n.draggable&&(o.drop_element=t.get(0)),t.siblings(".ImageItem").length>0?(a=ve,n.settings.multi_selection=!1):a=ge,e("__muu",i=a(p(!0,o,n.settings),n))&&(f(g(i.__muu),function(t){i.bind(t,i.__muu[t])}),delete i.__muu)}return i}}),ye={id:"watermark",preventTamper:!1,width:140,height:100,text:"watermark",font:"20px Sans-serif",rotate:Math.PI/180*30,shadow:{offsetX:2,offsetY:2,blur:2},style:{width:"100%",height:"100%",position:"fixed",top:0,left:0,"z-index":1e3,"pointer-events":"none"}};function we(t){document.getElementById(0===t.indexOf("#")?t.substring(1):t)}function xe(t){return document.createElement(t)}function je(t){var e=function(t){var e=xe("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");return n.shadowOffsetX=t.shadow.offsetX,n.shadowOffsetY=t.shadow.offsetX,n.shadowBlur=t.shadow.offsetX,n.font=t.font,n.fillStyle="rgba(204, 204, 204, 0.45)",n.rotate(t.rotate),n.translate(t.translateX,t.translateY),n.textAlign="left",n.fillText(t.text,35,32),e.toDataURL("image/png")}(t),i=we(t.id),o=i||xe("div");o.id=t.id;var r=!0===t.preventTamper?document.body:t.container||document.body;a(r)&&(r=we(r));var s,l,c=r.getBoundingClientRect();return t.style.left=(n(t.left)?t.left:c.left)+"px",t.style.top=(n(t.top)?t.top:c.top)+"px",o.style.cssText=(s=t.style,l=[],f(s,function(t,e){return l.push(e+": "+t+";")}),l.join(" ")),o.setAttribute("class",""),o.style.background="url("+e+") repeat top left",!i&&r.appendChild(o),o}window.muu={setDefaults:function(t){p(!0,H,t)},set:function(t,n){var a=E(t);if(!(arguments.length<2||0===a.length)){var i=a.pop(),o=A;return f(a,function(t){e(t,o)||(o[t]={}),o=o[t]}),o[i]=n,n}},get:function(t){var n=E(t);if(0!==n.length){for(var a=0,i=n.length,o=x(A),r=void 0,s=void 0;a<i&&(r=o[s=n[a]],e(s,o));a++)o=r;return r}},alert:F,$el:{triggerType:function(t){return t.attr("class").match(/js\-([a-zA-Z]+)/)[1]}},ajax:W,socket:V,table:Xt,dialog:lt,form:I,field:Pt,select:_,generate:Nt,text:he,calculate:Wt,data:Qt,upload:$e,url:St,lbs:te,notice:pe,encrypt:{watermark:function(t){var e,n;if((e=document.createElement("a").style).cssText="pointer-events:auto","auto"===e.pointerEvents)return!1!==(t=p(!0,{},H.watermark,{id:j("watermark")},t)).mainOnly&&(t.style["z-index"]=9999),i((n=p(!0,{},ye,n=t)).container)&&(n.container=n.container.call(null)),je(n)}}}});
//# sourceMappingURL=../maps/utils.min.js.map
